<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="518px" preserveAspectRatio="none" style="width:657px;height:518px;background:#FFFFFF;" version="1.1" viewBox="0 0 657 518" width="657px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="512.4414" style="stroke:#000000;stroke-width:1.5;" width="651.5" x="-1" y="0"/><path d="M306,0 L306,9.4883 L296,19.4883 L-1,19.4883 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297" x="2" y="14.5352">state: MCU-TOP - Runtime - State-Machine</text><ellipse cx="198" cy="59.9883" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="SETUP"><rect fill="#F1F1F1" height="52.9766" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="243.5" y="33.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="243.5" x2="430.5" y1="59.9766" y2="59.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="315.5" y="52.0234">SETUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="248.5" y="78.5117">do / apply configuration</text></g><g id="DISABLED"><rect fill="#F1F1F1" height="52.9766" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="242" y="163.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="242" x2="432" y1="189.9766" y2="189.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="304.5" y="182.0234">DISABLED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="247" y="208.5117">exit / reset task statistics</text></g><g id="IDLE"><rect fill="#F1F1F1" height="52.9766" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="236" x="219" y="293.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="219" x2="455" y1="319.9766" y2="319.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="322.5" y="312.0234">IDLE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="224" y="338.5117">do / check for schedule interval</text></g><g id="COLLECT_STATS"><rect fill="#F1F1F1" height="69.4648" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="12" y="431.9883"/><line style="stroke:#181818;stroke-width:0.5;" x1="12" x2="212" y1="458.4766" y2="458.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="55.5" y="450.5234">COLLECT_STATS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="17" y="477.0117">do / iterate over task-list</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="49" y="493.5">and remember values</text></g><g id="COMPUTE_VALUES"><rect fill="#F1F1F1" height="52.9766" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="247.5" y="439.9883"/><line style="stroke:#181818;stroke-width:0.5;" x1="247.5" x2="438.5" y1="466.4766" y2="466.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="279.5" y="458.5234">COMPUTE_VALUES</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="252.5" y="485.0117">do / calculate cpu-usage</text></g><g id="WRITE_VALUES"><rect fill="#F1F1F1" height="85.9531" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="473.5" y="423.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="473.5" x2="650.5" y1="449.9766" y2="449.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="511.5" y="442.0234">WRITE_VALUES</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="478.5" y="468.5117">entry / open file</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="478.5" y="485">do / write values to file</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="478.5" y="501.4883">exit / close file</text></g><!--MD5=[8dc3e60f12b37178e62eaf910578e60d]
link *start to SETUP--><g id="link_*start_SETUP"><path d="M208.32,59.9883 C217.71,59.9883 227.1,59.9883 236.5,59.9883 " fill="none" id="*start-to-SETUP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="241.49,59.9883,232.49,55.9883,236.49,59.9883,232.49,63.9883,241.49,59.9883" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3b83d71d48307c3b117345d0a1ecad97]
link SETUP to DISABLED--><g id="link_SETUP_DISABLED"><path d="M337,86.8883 C337,107.0183 337,135.0483 337,156.6383 " fill="none" id="SETUP-to-DISABLED" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="337,161.6083,341,152.6083,337,156.6083,333,152.6083,337,161.6083" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="338" y="130.0566">SIGNAL(CFG_PARSER_CFG_COMPLETE_SIGNAL)</text></g><!--MD5=[e3f8f38ecd11e0c148f58013abc50673]
link DISABLED to IDLE--><g id="link_DISABLED_IDLE"><path d="M248.08,216.9883 C235.36,224.4983 223.92,234.1383 216,246.4883 C204.22,264.8583 215.3,279.2283 234.76,290.1483 " fill="none" id="DISABLED-to-IDLE" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="239.12,292.4383,232.9961,284.7248,234.6886,290.1225,229.2909,291.815,239.12,292.4383" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="217" y="260.0566">mcu_top_set_enabled(enabled)</text></g><!--MD5=[7abe1fd345941e001beb17112e27857e]
link IDLE to DISABLED--><g id="link_IDLE_DISABLED"><path d="M388.91,293.2283 C399.78,285.2683 409.82,275.3883 416,263.4883 C424.63,246.8683 414.28,232.1183 398.54,220.3283 " fill="none" id="IDLE-to-DISABLED" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="394.73,217.6383,399.7737,226.0977,398.814,220.5228,404.3889,219.5632,394.73,217.6383" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="421" y="260.0566">mcu_top_set_enabled(disabled)</text></g><!--MD5=[9da3e466d0edc304c0b42523c01d6c08]
link IDLE to COLLECT_STATS--><g id="link_IDLE_COLLECT_STATS"><path d="M296.77,346.8183 C261.45,369.5083 209.64,402.7783 169.87,428.3283 " fill="none" id="IDLE-to-COLLECT_STATS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="165.86,430.8983,175.5936,429.3962,170.0659,428.1945,171.2676,422.6667,165.86,430.8983" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="246" y="390.0566">schdeule interval passed</text></g><!--MD5=[ec6c3b89683ffa17835a5fa529647f52]
link COLLECT_STATS to COMPUTE_VALUES--><g id="link_COLLECT_STATS_COMPUTE_VALUES"><path d="M212.16,466.4883 C221.73,466.4883 231.31,466.4883 240.88,466.4883 " fill="none" id="COLLECT_STATS-to-COMPUTE_VALUES" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="245.66,466.4883,236.66,462.4883,240.66,466.4883,236.66,470.4883,245.66,466.4883" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0560a7d37d31aff8053535e00eff4191]
link COMPUTE_VALUES to WRITE_VALUES--><g id="link_COMPUTE_VALUES_WRITE_VALUES"><path d="M438.81,466.4883 C448.2,466.4883 457.58,466.4883 466.96,466.4883 " fill="none" id="COMPUTE_VALUES-to-WRITE_VALUES" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="471.95,466.4883,462.95,462.4883,466.95,466.4883,462.95,470.4883,471.95,466.4883" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0f7c3cc1f2c0c6ef31606ac6b8fcb8bb]
link WRITE_VALUES to IDLE--><g id="link_WRITE_VALUES_IDLE"><path d="M496.11,423.1683 C459.54,399.6883 415,371.0883 382.36,350.1183 " fill="none" id="WRITE_VALUES-to-IDLE" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="378.5,347.6383,383.9203,355.8615,382.7101,350.3356,388.2359,349.1254,378.5,347.6383" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4bd70cfb80dd37122e773e10e3bd1e2b]
@startuml mcu_top_runtime_state_machine

'***************************************************************************

skinparam monochrome true
' skinparam linetype ortho

'***************************************************************************

mainframe state: MCU-TOP - Runtime - State-Machine

'***************************************************************************


' receive cfg-value
' wait for end of cfg
' wait for schedule interval
' iterate through task list
' remember statistics
' write statistics to file

[*] -right-> SETUP
SETUP : do / apply configuration

SETUP -down-> DISABLED : SIGNAL(CFG_PARSER_CFG_COMPLETE_SIGNAL)
DISABLED : exit / reset task statistics

DISABLED -down-> IDLE : mcu_top_set_enabled(enabled)
IDLE -down-> DISABLED : mcu_top_set_enabled(disabled)
IDLE : do / check for schedule interval

IDLE -down-> COLLECT_STATS : schdeule interval passed
COLLECT_STATS : do / iterate over task-list \n        and remember values

COLLECT_STATS -right-> COMPUTE_VALUES
COMPUTE_VALUES : do / calculate cpu-usage

COMPUTE_VALUES -right-> WRITE_VALUES
WRITE_VALUES : entry / open file
WRITE_VALUES : do / write values to file
WRITE_VALUES : exit / close file

WRITE_VALUES - -> IDLE

'***************************************************************************

@enduml

@startuml mcu_top_runtime_state_machine


skinparam monochrome true


mainframe state: MCU-TOP - Runtime - State-Machine




[*] -right-> SETUP
SETUP : do / apply configuration

SETUP -down-> DISABLED : SIGNAL(CFG_PARSER_CFG_COMPLETE_SIGNAL)
DISABLED : exit / reset task statistics

DISABLED -down-> IDLE : mcu_top_set_enabled(enabled)
IDLE -down-> DISABLED : mcu_top_set_enabled(disabled)
IDLE : do / check for schedule interval

IDLE -down-> COLLECT_STATS : schdeule interval passed
COLLECT_STATS : do / iterate over task-list \n        and remember values

COLLECT_STATS -right-> COMPUTE_VALUES
COMPUTE_VALUES : do / calculate cpu-usage

COMPUTE_VALUES -right-> WRITE_VALUES
WRITE_VALUES : entry / open file
WRITE_VALUES : do / write values to file
WRITE_VALUES : exit / close file

WRITE_VALUES - -> IDLE


@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>